{% extends "base.html" %}

{% block content %}

<div>SÃ©lectionner le vocabulaire que vous souhaitez exporter</div>
<table>
    <tr>
        <th>Mots</th>
        <th>Occurences</th>
    </tr>
    {% for item in words %}
    <tr>
        <td>
            <input type="checkbox", name="word",  id="{{item.text}}">
            <label for="{{item.text}}">{{ item.text }}</label>
        </td>
        <td>
            {{ item.count }}
        </td>
    </tr>
    {% endfor %}
</table>
<button type="submit" onclick="askConfirmation()">Validate Selection</button>
<p id="confirmation"></p>
    <script>
     function askConfirmation() {
        var selected_words = checkCheckboxes()
        var fc_nb = selected_words.length

        const confirm_message = "Do you want to generate " + fc_nb + " flashcards?"
        document.getElementById("confirmation").innerHTML = confirm_message;

      }

    function checkCheckboxes(){
    var selected_words = [];
    var checkboxes = document.getElementsByName("word");
    for(var i=0,cbLen=checkboxes.length;i<cbLen;i++){
        if(checkboxes[i].checked){
        selected_words.push(checkboxes[i].id);}
    }
    return selected_words
    }
</script>

<div><p id="output"></p></div>
<input type="submit", name="Generate",  id="generate_flaschards"><br>




{% endblock %}